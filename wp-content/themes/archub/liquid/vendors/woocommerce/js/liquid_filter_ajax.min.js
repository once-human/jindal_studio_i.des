!function(t){let e=wcLiquid.options||{},a=wcLiquid.paged||1,n=e.wcAjaxFilter||"off",i=e.wcAjaxPagination||"off",o=e.wcAjaxPaginationType||"classic",r=e.wcAjaxPaginationButtonText||"Load more products",l="filter",c=!0;function s(t){return"on"===t}t(document).ready((function(){let e=t(".widget_price_filter"),d=t(".widget_product_categories"),p=t(".widget_layered_nav").not("[class*=yith-woo-ajax-]"),h=t(".woocommerce-notices-wrapper"),m=(t(".ld-shop-topbar"),t("ul.products")),u=t(".woocommerce-pagination"),f=null;t("span.count").each((function(){t(this).text(t(this).text().replace(/[()]/g,""))})),s(i)&&m.length&&u.length&&function(){"scroll"===o&&(t(window).on("scroll",(function(){let e=t(this).scrollTop()+window.innerHeight,a=m.offset().top+m.height();c&&e>=a&&(c=!1,t(".next.page-numbers").trigger("click"))})),x());"button"===o&&b();t(document).on("click","a.page-numbers",(function(e){e.preventDefault();let n=t("span.page-numbers.current");a=n.length?parseInt(n.text()):1,t(this).hasClass("next")&&a++,t(this).hasClass("prev")&&a--,t.isNumeric(t(this).text())&&(a=parseInt(t(this).text())),l="pagination",w()}))}();s(n)&&m.length&&function(){e.length&&e.find("form").on("submit",(function(t){t.preventDefault(),l="filter",w()}));t(document).on("submit","form.woocommerce-ordering",(function(t){t.preventDefault(),l="filter",w()})),d.length&&d.find("a").on("click",(function(e){e.preventDefault(),t(this).parent().toggleClass("chosen"),l="filter",w()}));p.length&&p.find("a").on("click",(function(e){e.preventDefault(),t('a[href="'+t(this).attr("href")+'"]').parent().toggleClass("woocommerce-widget-layered-nav-list__item--chosen chosen"),l="filter",w()}))}();let g=new URLSearchParams(window.location.search);(g.get("min_price")||g.get("max_price")||~window.location.search.indexOf("filter_"))&&w();function w(){let n={},i=new URL(location.href),r=t("select.orderby").val()||"menu_order";if(e.length){let t=e.find("#min_price"),a=e.find("#max_price");parseInt(t.val())===parseInt(t.data("min"))&&parseInt(a.val())===parseInt(a.data("max"))||(n.min_price=parseInt(t.val()),n.max_price=parseInt(a.val()))}if(p.length&&t.each(p.find(".chosen .count"),(function(e,a){let i=n[t(a).data("filter")]?n[t(a).data("filter")]+",":"";n[t(a).data("filter")]=i+t(a).data("slug")})),t.each(n,(function(t,e){i.searchParams.set(t,e)})),i.searchParams.set("orderby",r),"filter"===l&&(i.pathname=i.pathname.replace("page/"+a,""),a=1),"pagination"===l){let e=t("span.page-numbers.current"),n=e.length?parseInt(e.text()):1;i.pathname=i.pathname.replace("page/"+n,"")+"page/"+a}if(d.length&&t(".woocommerce .widget_product_categories li.chosen a input").length){let e=t(".woocommerce .widget_product_categories li.chosen a input");n.term_id=e.data("term-id")}else wcLiquid.termId&&(n.term_id=wcLiquid.termId);t.ajax({type:"post",url:wcLiquid.ajaxUrl,data:{action:"liquid_wc_filter_ajax",filters:n,page:a,orderby:r},beforeSend:function(){"classic"!==o&&"filter"!==l||m.addClass("items-loading").append('<span class="row-bg-loader"></span>'),"pagination"===l&&"scroll"===o&&f.addClass("lqd-ajax-btn-loading"),"pagination"===l&&"button"===o&&f.addClass("lqd-ajax-btn-loading")},success:function(e){if(!0===e.success){let n=t(e.data.html).find(".woocommerce-notices-wrapper").html()||"",r=(t(e.data.html).find(".ld-shop-topbar").html(),t(e.data.html).find("ul.products").html()||""),s=t(e.data.html).find(".woocommerce-pagination").html()||"";"classic"!==o&&"filter"!==l||(h.html(n),m.removeClass("items-loading").html(r),u.html(s),t(".woocommerce-ordering").on("change","select.orderby",(function(){t(this).closest("form").submit()})),t("form").liquidFormInputs()),"pagination"!==l||"button"!==o&&"scroll"!==o||(m.removeClass("items-loading").html(m.html()+r),u.removeClass("lqd-ajax-btn-loading"),u.html(s)),history.pushState&&history.pushState({path:i.href},"",decodeURIComponent(i.href)),t("a.page-numbers").each((function(){let e=location.pathname.replace("/page/"+a,"")+t(this).attr("href");t(this).attr("href",location.origin+e+location.search)})),"button"===o&&b(),"scroll"===o&&(c=!0,x()),t(".row-bg-loader").remove()}}})}function b(){t(".next.page-numbers",u).html(`<span>${r}</span>`).parent().addClass("wc-pagination-button"),f=t(".wc-pagination-button a",u),u.addClass("wc-pagination-type-button").find("li:not(.wc-pagination-button)").hide()}function x(){u.addClass("wc-pagination-type-scroll").find("li").hide()}}))}(jQuery);