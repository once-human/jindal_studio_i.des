/*! Lity - LiquidThemes Modification - v3.0.0-dev - 2020-11-02
 * http://sorgalla.com/lity/
 * Copyright (c) 2015-2020 Jan Sorgalla; Licensed MIT
 * MODIFIED BY LIQUID THEMES
* */
!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],(function($){return t(e,$)})):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e,require("jquery")):e.lqdLity=t(e,e.jQuery||e.Zepto)}("undefined"!=typeof window?window:this,(function(e,$){"use strict";function t(e){var t=x();return D&&e.length?(e.one(D,t.resolve),setTimeout(t.resolve,500)):t.resolve(),t.promise()}function n(e,t,n){if(1===arguments.length)return $.extend({},e);if("string"==typeof t){if(void 0===n)return void 0===e[t]?null:e[t];e[t]=n}else $.extend(e,t);return this}function i(e){var t=e.indexOf("?");t>-1&&(e=e.substr(t+1));for(var n=decodeURI(e.split("#")[0]).split("&"),i={},r,o=0,l=n.length;o<l;o++)n[o]&&(i[(r=n[o].split("="))[0]]=r[1]);return i}function r(e,t){if(!t)return e;if("string"===$.type(t)&&(t=i(t)),e.indexOf("?")>-1){var n=e.split("?");e=n.shift(),t=$.extend({},i(n[0]),t)}return e+"?"+$.param(t)}function o(e,t){var n=e.indexOf("#");return-1===n?t:(n>0&&(e=e.substr(n)),t+e)}function l(e,t,n,i){return t&&t.element().addClass("lqd-lity-iframe"),n&&(e=r(e,n)),i&&(e=o(i,e)),'<div class="lqd-lity-iframe-container"><iframe frameborder="0" allowfullscreen allow="autoplay; fullscreen" src="'+e+'"/></div>'}function a(e){return $('<span class="lqd-lity-error"></span>').append(e)}function d(e,t){var n=t.opener()&&t.opener().data("lqd-lity-desc")||"Image with no description",i=$('<img src="'+e+'" alt="'+n+'"/>'),r=x(),o=function(){r.reject(a("Failed loading image"))};return i.on("load",(function(){if(0===this.naturalWidth)return o();r.resolve(i)})).on("error",o),r.promise()}function s(e,t){var n;try{n=$(e)}catch(e){return!1}return!!n.length&&n.removeClass("lqd-lity-hide")}function u(e,t){return l(e,t)}function f(e){var t=v();t&&(27===e.keyCode&&t.options("esc")&&t.close(),9===e.keyCode&&c(e,t))}function c(e,t){var n=t.element().find(j),i=n.index(q.activeElement);e.shiftKey&&i<=0?(n.get(n.length-1).focus(),e.preventDefault()):e.shiftKey||i!==n.length-1||(n.get(0).focus(),e.preventDefault())}function y(){$.each(C,(function(e,t){t.resize()}))}function p(e){1===C.unshift(e)&&(w.addClass("lqd-lity-active"),b.on({resize:y,keydown:f}))}function v(){return 0===C.length?null:C[0]}function h(e,t,n,i){var r="inline",o,l=$.extend({},n);return i&&l[i]?(o=l[i](e,t),r=i):($.each(["inline","iframe"],(function(e,t){delete l[t],l[t]=n[t]})),$.each(l,(function(n,i){return!i||(!(!i.test||i.test(e,t))||(!1!==(o=i(e,t))?(r=n,!1):void 0))}))),{handler:r,content:o||""}}function m(e,i,r,o){function l(e){c=$(e),f.find(".lqd-lity-loader").each((function(){var e=$(this);t(e).always((function(){e.remove()}))})),f.removeClass("lqd-lity-loading"),s=!0,c.trigger("lqd-lity:ready",[a])}var a=this,d,s=!1,u=!1,f,c;i=$.extend({},E,i),f=$(r.attr("href"))||$(o.attr("href"))||$(i.template),a.element=function(){return f},a.opener=function(){return r},a.content=function(){return c},a.options=$.proxy(n,a,i),a.handlers=$.proxy(n,a,i.handlers),a.resize=function(){s&&!u&&c.trigger("lqd-lity:resize",[a])},a.close=function(){if(s&&!u){u=!0;var e=x();if(o&&(q.activeElement===f[0]||$.contains(f[0],q.activeElement)))try{o.focus()}catch(e){}return c.trigger("lqd-lity:close",[a]),f.removeClass("lqd-lity-opened lity-iframe").addClass("lqd-lity-closed"),t(c.add(f)).always((function(){c.trigger("lqd-lity:remove",[a]),f=void 0,e.resolve()})),e.promise()}},d=h(e,a,i.handlers,i.handler),f.addClass("lqd-lity-loading lqd-lity-opened lity-"+d.handler).removeClass("lqd-lity-closed").focus().trigger("lqd-lity:open",[a]),p(a),$.when(d.content).always(l)}function g(e,t,n){e.preventDefault?(e.preventDefault(),e=(n=$(this)).data("lqd-lity-target")||n.attr("href")||n.attr("src")):n=$(n);var i=new m(e,$.extend({},n.data("lqd-lity-options")||n.data("lqd-lity"),t),n,q.activeElement);if(!e.preventDefault)return i}var q=e.document,b=$(e),x=$.Deferred,w=$("html"),C=[],j='a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable],[tabindex]:not([tabindex^="-"])',E={esc:!0,handler:null,handlers:{image:d,inline:s,iframe:u},template:".lqd-lity"},k=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,D=function(){var e=q.createElement("div"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return t[n];return!1}();return d.test=function(e){return k.test(e)},g.version="@VERSION",g.options=$.proxy(n,g,E),g.handlers=$.proxy(n,g,E.handlers),g.current=v,g.iframe=l,$(q).on("click.lqd-lity","[data-lqd-lity]",g),g}));