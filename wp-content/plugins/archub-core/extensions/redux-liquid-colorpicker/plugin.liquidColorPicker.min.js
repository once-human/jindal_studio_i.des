"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof(module))?module.exports=t(require("jquery")):t(jQuery)}((function($,t){function e(t,e,i,s){for(var n=[],a=0;a<t.length;a++){var o=t[a];if(o){var r=tinycolor(o),l=r.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(e,o)?" sp-thumb-active":"";var c=r.toString(s.preferredFormat||"rgb"),h=f?"background-color:"+r.toRgbString():"filter:"+r.toFilter();n.push('<span title="'+c+'" data-color="'+r.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+h+';" /></span>')}else{var d="sp-clear-display";n.push($("<div />").append($('<span data-color="" style="background-color:transparent;" class="'+d+'"></span>').attr("title",s.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+n.join("")+"</div>"}function i(){for(var t=0;t<u.length;t++)u[t]&&u[t].hide()}function s(t,e){var i=$.extend({},p,t);return i.callbacks={move:l(i.move,e),change:l(i.change,e),show:l(i.show,e),hide:l(i.hide,e),beforeShow:l(i.beforeShow,e)},i}function n(n,o){function l(){if(K.showPaletteOnly&&(K.showPalette=!0),zt.text(K.showPaletteOnly?K.togglePaletteMoreText:K.togglePaletteLessText),K.palette){mt=K.palette.slice(0),wt=$.isArray(mt[0])?mt:[mt],yt={};for(var t=0;t<wt.length;t++)for(var e=0;e<wt[t].length;e++){var i=tinycolor(wt[t][e]).toRgbString();yt[i]=!0}}Tt.toggleClass("sp-hue-h",dt),Tt.toggleClass("sp-alpha-v",ht),Tt.toggleClass("sp-flat",W),Tt.toggleClass("sp-input-disabled",!K.showInput),Tt.toggleClass("sp-alpha-enabled",K.showAlpha),Tt.toggleClass("sp-clear-enabled",ie),Tt.toggleClass("sp-buttons-disabled",!K.showButtons),Tt.toggleClass("sp-palette-buttons-disabled",!K.togglePaletteOnly),Tt.toggleClass("sp-palette-disabled",!K.showPalette),Tt.toggleClass("sp-palette-only",K.showPaletteOnly),Tt.toggleClass("sp-initial-disabled",!K.showInitial),Tt.addClass(K.className).addClass(K.containerClassName),L()}function p(){function t(t){return t.data&&t.data.ignore?(M($(t.target).closest(".sp-thumb-el").data("color")),E()):(M($(t.target).closest(".sp-thumb-el").data("color")),E(),K.hideAfterPaletteSelect?(O(!0),V()):O()),!1}if(g&&Tt.find("*:not(input)").attr("unselectable","on"),l(),Wt&&At.after(Xt).hide(),ie||Nt.hide(),W)At.after(Tt).hide();else{var e="parent"===K.appendTo?At.parent():$(K.appendTo);1!==e.length&&(e=$("body")),e.append(Tt)}m(),Yt.on("click.spectrum touchstart.spectrum",(function(t){Ht||P(),t.stopPropagation(),$(t.target).is("input")||t.preventDefault()})),(At.is(":disabled")||!0===K.disabled)&&z(),Tt.click(r),Bt.change(_),Bt.on("paste",(function(){setTimeout(_,1)})),Bt.keydown((function(t){13==t.keyCode&&_()})),Gt.text(K.cancelText),Gt.on("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),I(),V()})),Nt.attr("title",K.clearText),Nt.on("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),ee=!0,E(),W&&O(!0)})),qt.text(K.chooseText),qt.on("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),g&&Bt.is(":focus")&&Bt.trigger("change"),F()&&(O(!0),V())})),zt.text(K.showPaletteOnly?K.togglePaletteMoreText:K.togglePaletteLessText),zt.on("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),K.showPaletteOnly=!K.showPaletteOnly,K.showPaletteOnly||W||Tt.css("left","-="+($t.outerWidth(!0)+5)),l()})),c(Et,(function(t,e,i){bt=K.alphaV?e/rt:t/ot,ee=!1,i.shiftKey&&(bt=Math.round(10*bt)/10),E()}),x,S),c(Mt,(function(t,e){gt=K.hueH?parseFloat(t/at):parseFloat(e/nt),ee=!1,K.showAlpha||(bt=1),E()}),x,S),c(Vt,(function(t,e,i){if(i.shiftKey){if(!St){var s=ft*et,n=it-vt*it,a=Math.abs(t-s)>Math.abs(e-n);St=a?"x":"y"}}else St=null;var o,r=!St||"y"===St;(!St||"x"===St)&&(ft=parseFloat(t/et)),r&&(vt=parseFloat((it-e)/it)),ee=!1,K.showAlpha||(bt=1),E()}),x,S),Ut?(M(Ut),D(),Zt=K.preferredFormat||tinycolor(Ut).format,w(Ut)):D(),W&&A();var i=g?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Ot.on(i,".sp-thumb-el",t),Lt.on(i,".sp-thumb-el:nth-child(1)",{ignore:!0},t)}function m(){if(Y&&window.localStorage){try{var t=window.localStorage[Y].split(",#");t.length>1&&(delete window.localStorage[Y],$.each(t,(function(t,e){w(e)})))}catch(t){}try{Ct=window.localStorage[Y].split(";")}catch(t){}}}function w(t){if(X){var e=tinycolor(t).toRgbString();if(!yt[e]&&-1===$.inArray(e,Ct))for(Ct.push(e);Ct.length>kt;)Ct.shift();if(Y&&window.localStorage)try{window.localStorage[Y]=Ct.join(";")}catch(t){}}}function y(){var t=[];if(K.showPalette)for(var e=0;e<Ct.length;e++){var i=tinycolor(Ct[e]).toRgbString();yt[i]||t.push(Ct[e])}return t.reverse().slice(0,K.maxSelectionSize)}function C(){var t=R(),i=$.map(wt,(function(i,s){return e(i,t,"sp-palette-row sp-palette-row-"+s,K)}));m(),Ct&&i.push(e(y(),t,"sp-palette-row sp-palette-row-selection",K)),Ot.html(i.join(""))}function k(){if(K.showInitial){var t=Jt,i=R();Lt.html(e([t,i],i,"sp-palette-row-initial",K))}}function x(){(it<=0||et<=0||nt<=0)&&L(),tt=!0,Tt.addClass(xt),St=null,At.trigger("dragstart.spectrum",[R()])}function S(){tt=!1,Tt.removeClass(xt),At.trigger("dragstop.spectrum",[R()])}function _(){var t=Bt.val();if(null!==t&&""!==t||!ie){var e=tinycolor(t);e.isValid()?(M(e),E(),O()):Bt.addClass("sp-validation-error")}else M(null),E(),O()}function P(){Z?V():A()}function A(){var t=$.Event("beforeShow.spectrum");Z?L():(At.trigger(t,[R()]),!1===U.beforeShow(R())||t.isDefaultPrevented()||(i(),Z=!0,$(_t).on("keydown.spectrum",H),$(_t).on("click.spectrum",T),$(window).on("resize.spectrum",J),Xt.addClass("sp-active"),Tt.removeClass("sp-hidden"),L(),D(),Jt=R(),k(),U.show(Jt),At.trigger("show.spectrum",[Jt])))}function H(t){27===t.keyCode&&V()}function T(t){2!=t.button&&(tt||(te?O(!0):I(),V()))}function V(){Z&&!W&&(Z=!1,$(_t).off("keydown.spectrum",H),$(_t).off("click.spectrum",T),$(window).off("resize.spectrum",J),Xt.removeClass("sp-active"),Tt.addClass("sp-hidden"),U.hide(R()),At.trigger("hide.spectrum",[R()]))}function I(){M(Jt,!0),O(!0)}function M(t,e){var i,s;tinycolor.equals(t,R())?D():(!t&&ie?ee=!0:(ee=!1,s=(i=tinycolor(t)).toHsv(),gt=s.h%360/360,ft=s.s,vt=s.v,bt=s.a),D(),i&&i.isValid()&&!e&&(Zt=K.preferredFormat||i.getFormat()))}function R(t){return t=t||{},ie&&ee?null:tinycolor.fromRatio({h:gt,s:ft,v:vt,a:Math.round(1e3*bt)/1e3},{format:t.format||Zt})}function F(){return!Bt.hasClass("sp-validation-error")}function E(){D(),U.move(R()),At.trigger("move.spectrum",[R()])}function D(){Bt.removeClass("sp-validation-error"),B();var t=tinycolor.fromRatio({h:gt,s:1,v:1});Vt.css("background-color",t.toHexString());var e=Zt;bt<1&&(0!==bt||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var i=R({format:e}),s="";if(Qt.removeClass("sp-clear-display"),Qt.css("background-color","transparent"),!i&&ie)Qt.addClass("sp-clear-display");else{var n=i.toHexString(),a=i.toRgbString();if(f||1===i.alpha?Qt.css("background-color",a):(Qt.css("background-color","transparent"),Qt.css("filter",i.toFilter())),K.showAlpha){var o=i.toRgb();o.a=0;var r=tinycolor(o).toRgbString(),l="linear-gradient(left, "+r+", "+n+")";K.alphaV&&(l="linear-gradient(top, "+r+", "+n+")"),g?Ft.css("filter",tinycolor(r).toFilter({gradientType:1},n)):(Ft.css("background","-webkit-"+l),Ft.css("background","-moz-"+l),Ft.css("background","-ms-"+l),Ft.css("background","linear-gradient(to right, "+r+", "+n+")"),K.alphaV&&Ft.css("background","linear-gradient(to bottom, "+r+", "+n+")"))}s=i.toString(e)}K.showInput&&Bt.val(s),K.showPalette&&C(),k()}function B(){var t=ft,e=vt;if(ie&&ee)Dt.hide(),Rt.hide(),It.hide();else{Dt.show(),Rt.show(),It.show();var i=t*et,s=it-e*it;i=Math.max(-st,Math.min(et-st,i-st)),s=Math.max(-st,Math.min(it-st,s-st)),It.css({top:s+"px",left:i+"px"});var n=bt*ot,a=bt*rt;Dt.css({left:n-lt+"px"}),K.alphaV&&Dt.css({left:"",top:a-ct+"px"});var o=gt*nt,r=gt*at;Rt.css({top:o-ut+"px"}),K.hueH&&Rt.css({top:"",left:r-pt+"px"})}}function O(t){var e=R(),i="",s=!tinycolor.equals(e,Jt);e&&(i=e.toString(Zt),w(e)),jt&&At.val(i),t&&s&&(U.change(e),At.trigger("change",[e]))}function L(){Z&&(et=Vt.width(),it=Vt.height(),st=It.height(),at=Mt.width(),nt=Mt.height(),pt=Rt.width(),ut=Rt.height(),ot=Et.width(),rt=Et.height(),lt=Dt.width(),ct=Dt.height(),W||(Tt.css("position","absolute"),K.offset?Tt.offset(K.offset):Tt.offset(a(Tt,Yt))),B(),K.showPalette&&C(),At.trigger("reflow.spectrum"))}function G(){At.show(),Yt.off("click.spectrum touchstart.spectrum"),Tt.remove(),Xt.remove(),u[se.id]=null}function N(e,i){return e===t?$.extend({},K):i===t?K[e]:(K[e]=i,"preferredFormat"===e&&(Zt=K.preferredFormat),void l())}function q(){Ht=!1,At.attr("disabled",!1),Yt.removeClass("sp-disabled")}function z(){V(),Ht=!0,At.attr("disabled",!0),Yt.addClass("sp-disabled")}function j(t){K.offset=t,L()}var K=s(o,n),W=K.flat,X=K.showSelectionPalette,Y=K.localStorageKey,Q=K.theme,U=K.callbacks,J=h(L,10),Z=!1,tt=!1,et=0,it=0,st=0,nt=0,at=0,ot=0,rt=0,lt=0,ct=0,ht=K.alphaV,dt=K.hueH,pt=0,ut=0,gt=0,ft=0,vt=0,bt=1,mt=[],wt=[],yt={},Ct=K.selectionPalette.slice(0),kt=K.maxSelectionSize,xt="sp-dragging",St=null,_t=n.ownerDocument,Pt=_t.body,At=$(n),Ht=!1,Tt=$(b,_t).addClass(Q),$t=Tt.find(".sp-picker-container"),Vt=Tt.find(".sp-color"),It=Tt.find(".sp-dragger"),Mt=Tt.find(".sp-hue"),Rt=Tt.find(".sp-slider"),Ft=Tt.find(".sp-alpha-inner"),Et=Tt.find(".sp-alpha"),Dt=Tt.find(".sp-alpha-handle"),Bt=Tt.find(".sp-input"),Ot=Tt.find(".sp-palette"),Lt=Tt.find(".sp-initial"),Gt=Tt.find(".sp-cancel"),Nt=Tt.find(".sp-clear"),qt=Tt.find(".sp-choose"),zt=Tt.find(".sp-palette-toggle"),jt=At.is("input"),Kt=jt&&"color"===At.attr("type")&&d(),Wt=jt&&!W,Xt=Wt?$(v).addClass(Q).addClass(K.className).addClass(K.replacerClassName):$([]),Yt=Wt?Xt:At,Qt=Xt.find(".sp-preview-inner"),Ut=K.color||jt&&At.val(),Jt=!1,Zt=K.preferredFormat,te=!K.showButtons||K.clickoutFiresChange,ee=!Ut,ie=K.allowEmpty&&!Kt;p();var se={show:A,hide:V,toggle:P,reflow:L,option:N,enable:q,disable:z,offset:j,set:function t(e){M(e),O()},get:R,destroy:G,container:Tt};return se.id=u.push(se)-1,se}function a(t,e){var i=0,s=t.outerWidth(),n=t.outerHeight(),a=e.outerHeight(),o=t[0].ownerDocument,r=o.documentElement,l=r.clientWidth+$(o).scrollLeft(),c=r.clientHeight+$(o).scrollTop(),h=e.offset(),d=h.left,p=h.top;return p+=a,d-=Math.min(d,d+s>l&&l>s?Math.abs(d+s-l):0),{top:p-=Math.min(p,p+n>c&&c>n?Math.abs(n+a-0):0),bottom:h.bottom,left:d,right:h.right,width:h.width,height:h.height}}function o(){}function r(t){t.stopPropagation()}function l(t,e){var i=Array.prototype.slice,s=i.call(arguments,2);return function(){return t.apply(e,s.concat(i.call(arguments)))}}function c(t,e,i,s){function n(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function a(i){if(c){if(g&&l.documentMode<9&&!i.button)return r();var s=i.originalEvent&&i.originalEvent.touches&&i.originalEvent.touches[0],a=s&&s.pageX||i.pageX,o=s&&s.pageY||i.pageY,f=Math.max(0,Math.min(a-h.left,p)),v=Math.max(0,Math.min(o-h.top,d));u&&n(i),e.apply(t,[f,v,i])}}function o(e){var s=e.which?3==e.which:2==e.button;s||c||!1!==i.apply(t,arguments)&&(c=!0,d=$(t).height(),p=$(t).width(),h=$(t).offset(),$(l).on(f),$(l.body).addClass("sp-dragging"),a(e),n(e))}function r(){c&&($(l).off(f),$(l.body).removeClass("sp-dragging"),setTimeout((function(){s.apply(t,arguments)}),0)),c=!1}e=e||function(){},i=i||function(){},s=s||function(){};var l=document,c=!1,h={},d=0,p=0,u="ontouchstart"in window,f={};f.selectstart=n,f.dragstart=n,f["touchmove mousemove"]=a,f["touchend mouseup"]=r,$(t).on("touchstart mousedown",o)}function h(t,e,i){var s;return function(){var n=this,a=arguments,o=function e(){s=null,t.apply(n,a)};i&&clearTimeout(s),!i&&s||(s=setTimeout(o,e))}}function d(){return $.fn.spectrum.inputTypeColorSupport()}var p={beforeShow:o,move:o,change:o,show:o,hide:o,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,alphaV:!1,hueH:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},u=[],g=!!/msie/i.exec(window.navigator.userAgent),f=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e,i=document.createElement("div").style;return i.cssText="background-color:rgba(0,0,0,.5)",t(i.backgroundColor,"rgba")||t(i.backgroundColor,"hsla")}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),b=function(){var t="";if(g)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),m="spectrum.id";$.fn.spectrum=function(t,e){if("string"==typeof t){var i=this,s=Array.prototype.slice.call(arguments,1);return this.each((function(){var e=u[$(this).data(m)];if(e){var n=e[t];if(!n)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?i=e.get():"container"==t?i=e.container:"option"==t?i=e.option.apply(e,s):"destroy"==t?(e.destroy(),$(this).removeData(m)):n.apply(e,s)}})),i}return this.spectrum("destroy").each((function(){var e,i=n(this,$.extend({},$(this).data(),t));$(this).data(m,i.id)}))},$.fn.spectrum.load=!0,$.fn.spectrum.loadOpts={},$.fn.spectrum.draggable=c,$.fn.spectrum.defaults=p,$.fn.spectrum.inputTypeColorSupport=function t(){if(void 0===t._cachedResult){var e=$("<input type='color'/>")[0];t._cachedResult="color"===e.type&&""!==e.value}return t._cachedResult},$.spectrum={},$.spectrum.localization={},$.spectrum.palettes={},$.fn.spectrum.processNativeColorInputs=function(){var t=$("input[type=color]");t.length&&!d()&&t.spectrum({preferredFormat:"hex6"})},function(t){function e(t,s){if(s=s||{},(t=t||"")instanceof e)return t;if(!(this instanceof e))return new e(t,s);var n=i(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=N(100*this._a)/100,this._format=s.format||n.format,this._gradientType=s.gradientType,this._r<1&&(this._r=N(this._r)),this._g<1&&(this._g=N(this._g)),this._b<1&&(this._b=N(this._b)),this._ok=n.ok,this._tc_id=G++}function i(t){var e={r:0,g:0,b:0},i=1,n=null,o=null,l=null,c=!1,h=!1;return"string"==typeof t&&(t=D(t)),"object"==typeof t&&(E(t.r)&&E(t.g)&&E(t.b)?(e=s(t.r,t.g,t.b),c=!0,h="%"===String(t.r).substr(-1)?"prgb":"rgb"):E(t.h)&&E(t.s)&&E(t.v)?(n=M(t.s),o=M(t.v),e=r(t.h,n,o),c=!0,h="hsv"):E(t.h)&&E(t.s)&&E(t.l)&&(n=M(t.s),l=M(t.l),e=a(t.h,n,l),c=!0,h="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=_(i),{ok:c,format:t.format||h,r:q(255,z(e.r,0)),g:q(255,z(e.g,0)),b:q(255,z(e.b,0)),a:i}}function s(t,e,i){return{r:255*P(t,255),g:255*P(e,255),b:255*P(i,255)}}function n(t,e,i){t=P(t,255),e=P(e,255),i=P(i,255);var s=z(t,e,i),n=q(t,e,i),a,o,r=(s+n)/2;if(s==n)a=o=0;else{var l=s-n;switch(o=r>.5?l/(2-s-n):l/(s+n),s){case t:a=(e-i)/l+(e<i?6:0);break;case e:a=(i-t)/l+2;break;case i:a=(t-e)/l+4;break}a/=6}return{h:a,s:o,l:r}}function a(t,e,i){function s(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}var n,a,o;if(t=P(t,360),e=P(e,100),i=P(i,100),0===e)n=a=o=i;else{var r=i<.5?i*(1+e):i+e-i*e,l=2*i-r;n=s(l,r,t+1/3),a=s(l,r,t),o=s(l,r,t-1/3)}return{r:255*n,g:255*a,b:255*o}}function o(t,e,i){t=P(t,255),e=P(e,255),i=P(i,255);var s=z(t,e,i),n=q(t,e,i),a,o,r=s,l=s-n;if(o=0===s?0:l/s,s==n)a=0;else{switch(s){case t:a=(e-i)/l+(e<i?6:0);break;case e:a=(i-t)/l+2;break;case i:a=(t-e)/l+4;break}a/=6}return{h:a,s:o,v:r}}function r(e,i,s){e=6*P(e,360),i=P(i,100),s=P(s,100);var n=t.floor(e),a=e-n,o=s*(1-i),r=s*(1-a*i),l=s*(1-(1-a)*i),c=n%6,h,d,p;return{r:255*[s,r,o,o,l,s][c],g:255*[l,s,s,r,o,o][c],b:255*[o,o,l,s,s,r][c]}}function l(t,e,i,s){var n=[I(N(t).toString(16)),I(N(e).toString(16)),I(N(i).toString(16))];return s&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function c(t,e,i,s,n){var a=[I(N(t).toString(16)),I(N(e).toString(16)),I(N(i).toString(16)),I(R(s))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function h(t,e,i,s){var n;return[I(R(s)),I(N(t).toString(16)),I(N(e).toString(16)),I(N(i).toString(16))].join("")}function d(t,i){i=0===i?0:i||10;var s=e(t).toHsl();return s.s-=i/100,s.s=A(s.s),e(s)}function p(t,i){i=0===i?0:i||10;var s=e(t).toHsl();return s.s+=i/100,s.s=A(s.s),e(s)}function u(t){return e(t).desaturate(100)}function g(t,i){i=0===i?0:i||10;var s=e(t).toHsl();return s.l+=i/100,s.l=A(s.l),e(s)}function f(t,i){i=0===i?0:i||10;var s=e(t).toRgb();return s.r=z(0,q(255,s.r-N(-i/100*255))),s.g=z(0,q(255,s.g-N(-i/100*255))),s.b=z(0,q(255,s.b-N(-i/100*255))),e(s)}function v(t,i){i=0===i?0:i||10;var s=e(t).toHsl();return s.l-=i/100,s.l=A(s.l),e(s)}function b(t,i){var s=e(t).toHsl(),n=(s.h+i)%360;return s.h=n<0?360+n:n,e(s)}function m(t){var i=e(t).toHsl();return i.h=(i.h+180)%360,e(i)}function w(t){var i=e(t).toHsl(),s=i.h;return[e(t),e({h:(s+120)%360,s:i.s,l:i.l}),e({h:(s+240)%360,s:i.s,l:i.l})]}function y(t){var i=e(t).toHsl(),s=i.h;return[e(t),e({h:(s+90)%360,s:i.s,l:i.l}),e({h:(s+180)%360,s:i.s,l:i.l}),e({h:(s+270)%360,s:i.s,l:i.l})]}function C(t){var i=e(t).toHsl(),s=i.h;return[e(t),e({h:(s+72)%360,s:i.s,l:i.l}),e({h:(s+216)%360,s:i.s,l:i.l})]}function k(t,i,s){i=i||6,s=s||30;var n=e(t).toHsl(),a=360/s,o=[e(t)];for(n.h=(n.h-(a*i>>1)+720)%360;--i;)n.h=(n.h+a)%360,o.push(e(n));return o}function x(t,i){i=i||6;for(var s=e(t).toHsv(),n=s.h,a=s.s,o=s.v,r=[],l=1/i;i--;)r.push(e({h:n,s:a,v:o})),o=(o+l)%1;return r}function S(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}function _(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function P(e,i){T(e)&&(e="100%");var s=V(e);return e=q(i,z(0,parseFloat(e))),s&&(e=parseInt(e*i,10)/100),t.abs(e-i)<1e-6?1:e%i/parseFloat(i)}function A(t){return q(1,z(0,t))}function H(t){return parseInt(t,16)}function T(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function V(t){return"string"==typeof t&&-1!=t.indexOf("%")}function I(t){return 1==t.length?"0"+t:""+t}function M(t){return t<=1&&(t=100*t+"%"),t}function R(e){return t.round(255*parseFloat(e)).toString(16)}function F(t){return H(t)/255}function E(t){return!!X.CSS_UNIT.exec(t)}function D(t){t=t.replace(O,"").replace(L,"").toLowerCase();var e=!1,i;if(K[t])t=K[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(i=X.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=X.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=X.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=X.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=X.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=X.hsva.exec(t))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=X.hex8.exec(t))?{r:H(i[1]),g:H(i[2]),b:H(i[3]),a:F(i[4]),format:e?"name":"hex8"}:(i=X.hex6.exec(t))?{r:H(i[1]),g:H(i[2]),b:H(i[3]),format:e?"name":"hex"}:(i=X.hex4.exec(t))?{r:H(i[1]+""+i[1]),g:H(i[2]+""+i[2]),b:H(i[3]+""+i[3]),a:F(i[4]+""+i[4]),format:e?"name":"hex8"}:!!(i=X.hex3.exec(t))&&{r:H(i[1]+""+i[1]),g:H(i[2]+""+i[2]),b:H(i[3]+""+i[3]),format:e?"name":"hex"}}function B(t){var e,i;return"AA"!==(e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==e&&(e="AA"),"small"!==(i=(t.size||"small").toLowerCase())&&"large"!==i&&(i="small"),{level:e,size:i}}var O=/^\s+/,L=/\s+$/,G=0,N=t.round,q=t.min,z=t.max,j=t.random;e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var e=this.toRgb(),i,s,n,a,o,r;return i=e.r/255,s=e.g/255,n=e.b/255,.2126*(a=i<=.03928?i/12.92:t.pow((i+.055)/1.055,2.4))+.7152*(o=s<=.03928?s/12.92:t.pow((s+.055)/1.055,2.4))+.0722*(r=n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=_(t),this._roundA=N(100*this._a)/100,this},toHsv:function(){var t=o(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=o(this._r,this._g,this._b),e=N(360*t.h),i=N(100*t.s),s=N(100*t.v);return 1==this._a?"hsv("+e+", "+i+"%, "+s+"%)":"hsva("+e+", "+i+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var t=n(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=n(this._r,this._g,this._b),e=N(360*t.h),i=N(100*t.s),s=N(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+s+"%)":"hsla("+e+", "+i+"%, "+s+"%, "+this._roundA+")"},toHex:function(t){return l(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return c(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:N(this._r),g:N(this._g),b:N(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+N(this._r)+", "+N(this._g)+", "+N(this._b)+")":"rgba("+N(this._r)+", "+N(this._g)+", "+N(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:N(100*P(this._r,255))+"%",g:N(100*P(this._g,255))+"%",b:N(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+N(100*P(this._r,255))+"%, "+N(100*P(this._g,255))+"%, "+N(100*P(this._b,255))+"%)":"rgba("+N(100*P(this._r,255))+"%, "+N(100*P(this._g,255))+"%, "+N(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(W[l(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var i="#"+h(this._r,this._g,this._b,this._a),s=i,n=this._gradientType?"GradientType = 1, ":"";if(t){var a=e(t);s="#"+h(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+i+",endColorstr="+s+")"},toString:function(t){var e=!!t;t=t||this._format;var i=!1,s=this._a<1&&this._a>=0,n;return e||!s||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex4"===t&&(i=this.toHex8String(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),"hsv"===t&&(i=this.toHsvString()),i||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return e(this.toString())},_applyModification:function(t,e){var i=t.apply(null,[this].concat([].slice.call(e)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(f,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(u,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(y,arguments)}},e.fromRatio=function(t,i){if("object"==typeof t){var s={};for(var n in t)t.hasOwnProperty(n)&&(s[n]="a"===n?t[n]:M(t[n]));t=s}return e(t,i)},e.equals=function(t,i){return!(!t||!i)&&e(t).toRgbString()==e(i).toRgbString()},e.random=function(){return e.fromRatio({r:j(),g:j(),b:j()})},e.mix=function(t,i,s){s=0===s?0:s||50;var n=e(t).toRgb(),a=e(i).toRgb(),o=s/100,r;return e({r:(a.r-n.r)*o+n.r,g:(a.g-n.g)*o+n.g,b:(a.b-n.b)*o+n.b,a:(a.a-n.a)*o+n.a})},e.readability=function(i,s){var n=e(i),a=e(s);return(t.max(n.getLuminance(),a.getLuminance())+.05)/(t.min(n.getLuminance(),a.getLuminance())+.05)},e.isReadable=function(t,i,s){var n=e.readability(t,i),a,o;switch(o=!1,(a=B(s)).level+a.size){case"AAsmall":case"AAAlarge":o=n>=4.5;break;case"AAlarge":o=n>=3;break;case"AAAsmall":o=n>=7;break}return o},e.mostReadable=function(t,i,s){var n=null,a=0,o,r,l,c;r=(s=s||{}).includeFallbackColors,l=s.level,c=s.size;for(var h=0;h<i.length;h++)(o=e.readability(t,i[h]))>a&&(a=o,n=e(i[h]));return e.isReadable(t,n,{level:l,size:c})||!r?n:(s.includeFallbackColors=!1,e.mostReadable(t,["#fff","#000"],s))};var K=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W=e.hexNames=S(K),X=(Y="[-\\+]?\\d+%?",Q="[-\\+]?\\d*\\.\\d+%?",J="[\\s|\\(]+("+(U="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",Z="[\\s|\\(]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",{CSS_UNIT:new RegExp(U),rgb:new RegExp("rgb"+J),rgba:new RegExp("rgba"+Z),hsl:new RegExp("hsl"+J),hsla:new RegExp("hsla"+Z),hsv:new RegExp("hsv"+J),hsva:new RegExp("hsva"+Z),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}),Y,Q,U,J,Z;"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define((function(){return e})):window.tinycolor=e}(Math),$((function(){$.fn.spectrum.load&&$.fn.spectrum.processNativeColorInputs()}))})),/*!jQuery Knob*/
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}((function(t){var e={},i=Math.max,s=Math.min;e.c={},e.c.d=t(document),e.c.t=function(t){return t.originalEvent.touches.length-1},e.o=function(){var i=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var e=function(t,e){var s;for(s in e)i.o[s]=e[s];i._carve().init(),i._configure()._draw()};if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=t.extend({min:void 0!==this.$.data("min")?this.$.data("min"):0,max:void 0!==this.$.data("max")?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||"readonly"===this.$.attr("readonly"),cursor:(!0===this.$.data("cursor")?30:this.$.data("cursor"))||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(t){return t},parse:function(t){return parseFloat(t)}},this.o),this.o.flip="anticlockwise"===this.o.rotation||"acw"===this.o.rotation,this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each((function(e){var s=t(this);i.i[e]=s,i.v[e]=i.o.parse(s.val()),s.bind("change blur",(function(){var t={};t[e]=s.val(),i.val(i._validate(t))}))})),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),""===this.v&&(this.v=this.o.min),this.$.bind("change blur",(function(){i.val(i._validate(i.o.parse(i.$.val())))}))),!this.o.displayInput&&this.$.hide(),this.$c=t(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=t('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!=0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!=0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",e).parent().bind("configure",e),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}},this._carve=function(){if(this.relative){var t=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),e=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(t,e)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var t=!0;i.g=i.c,i.clear(),i.dH&&(t=i.dH()),!1!==t&&i.draw()},this._touch=function(t){var s=function(t){var e=i.xy2val(t.originalEvent.touches[i.t].pageX,t.originalEvent.touches[i.t].pageY);e!=i.cv&&(i.cH&&!1===i.cH(e)||(i.change(i._validate(e)),i._draw()))};return this.t=e.c.t(t),s(t),e.c.d.bind("touchmove.k",s).bind("touchend.k",(function(){e.c.d.unbind("touchmove.k touchend.k"),i.val(i.cv)})),this},this._mouse=function(t){var s=function(t){var e=i.xy2val(t.pageX,t.pageY);e!=i.cv&&(i.cH&&!1===i.cH(e)||(i.change(i._validate(e)),i._draw()))};return s(t),e.c.d.bind("mousemove.k",s).bind("keyup.k",(function(t){if(27===t.keyCode){if(e.c.d.unbind("mouseup.k mousemove.k keyup.k"),i.eH&&!1===i.eH())return;i.cancel()}})).bind("mouseup.k",(function(t){e.c.d.unbind("mousemove.k mouseup.k keyup.k"),i.val(i.cv)})),this},this._xy=function(){var t=this.$c.offset();return this.x=t.left,this.y=t.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",(function(t){t.preventDefault(),i._xy()._mouse(t)})).bind("touchstart",(function(t){t.preventDefault(),i._xy()._touch(t)})),this.listen()),this.relative&&t(window).resize((function(){i._carve().init(),i._draw()})),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(t){var e=~~((t<0?-.5:.5)+t/this.o.step)*this.o.step;return Math.round(100*e)/100},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(t){},this.val=function(t){},this.xy2val=function(t,e){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(t,e){var i;return t=t.substring(1,7),"rgba("+(i=[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)])[0]+","+i[1]+","+i[2]+","+e+")"},this.copy=function(t,e){for(var i in t)e[i]=t[i]}},e.Dial=function(){e.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=t.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(t,e){if(null==t)return this.v;t=this.o.parse(t),!1!==e&&t!=this.v&&this.rH&&!1===this.rH(t)||(this.cv=this.o.stopper?i(s(t,this.o.max),this.o.min):t,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw())},this.xy2val=function(t,e){var n,a;return n=Math.atan2(t-(this.x+this.w2),-(e-this.y-this.w2))-this.angleOffset,this.o.flip&&(n=this.angleArc-n-this.PI2),this.angleArc!=this.PI2&&n<0&&n>-.5?n=0:n<0&&(n+=this.PI2),a=n*(this.o.max-this.o.min)/this.angleArc+this.o.min,this.o.stopper&&(a=i(s(a,this.o.max),this.o.min)),a},this.listen=function(){var e=this,n,a,o=function(t){t.preventDefault();var o=t.originalEvent,r=o.detail||o.wheelDeltaX,l=o.detail||o.wheelDeltaY,c=e._validate(e.o.parse(e.$.val()))+(r>0||l>0?e.o.step:r<0||l<0?-e.o.step:0);c=i(s(c,e.o.max),e.o.min),e.val(c,!1),e.rH&&(clearTimeout(n),n=setTimeout((function(){e.rH(c),n=null}),100),a||(a=setTimeout((function(){n&&e.rH(c),a=null}),200)))},r,l,c=1,h={37:-e.o.step,38:e.o.step,39:e.o.step,40:-e.o.step};this.$.bind("keydown",(function(n){var a=n.keyCode;if(a>=96&&a<=105&&(a=n.keyCode=a-48),r=parseInt(String.fromCharCode(a)),isNaN(r)&&(13!==a&&8!==a&&9!==a&&189!==a&&(190!==a||e.$.val().match(/\./))&&n.preventDefault(),t.inArray(a,[37,38,39,40])>-1)){n.preventDefault();var o=e.o.parse(e.$.val())+h[a]*c;e.o.stopper&&(o=i(s(o,e.o.max),e.o.min)),e.change(e._validate(o)),e._draw(),l=window.setTimeout((function(){c*=2}),30)}})).bind("keyup",(function(t){isNaN(r)?l&&(window.clearTimeout(l),l=null,c=1,e.val(e.$.val())):e.$.val()>e.o.max&&e.$.val(e.o.max)||e.$.val()<e.o.min&&e.$.val(e.o.min)})),this.$c.bind("mousewheel DOMMouseScroll",o),this.$.bind("mousewheel DOMMouseScroll",o)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var t=i(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(3*this.w/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/t>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(t){this.cv=t,this.$.val(this.o.format(t))},this.angle=function(t){return(t-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(t){var e,i;return t=this.angle(t),i=this.o.flip?(e=this.endAngle+1e-5)-t-1e-5:(e=this.startAngle-1e-5)+t+1e-5,this.o.cursor&&(e=i-this.cursorExt)&&(i+=this.cursorExt),{s:e,e:i,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var t=this.g,e=this.arc(this.cv),i,s=1;t.lineWidth=this.lineWidth,t.lineCap=this.lineCap,"none"!==this.o.bgColor&&(t.beginPath(),t.strokeStyle=this.o.bgColor,t.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),t.stroke()),this.o.displayPrevious&&(i=this.arc(this.v),t.beginPath(),t.strokeStyle=this.pColor,t.arc(this.xy,this.xy,this.radius,i.s,i.e,i.d),t.stroke(),s=this.cv==this.v),t.beginPath(),t.strokeStyle=s?this.o.fgColor:this.fgColor,t.arc(this.xy,this.xy,this.radius,e.s,e.e,e.d),t.stroke()},this.cancel=function(){this.val(this.v)}},t.fn.dial=t.fn.knob=function(i){return this.each((function(){var s=new e.Dial;s.o=i,s.$=t(this),s.run()})).parent()}})),function($,t,e,i){function s(t,e){this.element=t,this.options=$.extend({},a,e),this._defaults=a,this._name=n,this.cpType=this.options.cpType.replace(" ","").split(","),this.build()}const n="liquidColorPicker";let a={cpType:"solid, gradient",hueH:!0,showAlpha:!0,showInput:!1,showInitial:!0,showButtons:!1,flat:!0,showPalette:!0,color:"#000",palette:[["black","white","#FF8989","#73FFEA","#94A9FF"]],containerClassName:"ld-spectrum",replacerClassName:"ld-replacer",preferredFormat:"hex"};const o={colors:[{type:"solid",color:"#FF8989"},{type:"solid",color:"#73FFEA"},{type:"solid",color:"#94A9FF"},{type:"gradient",color:"linear-gradient(180deg, #FAD961 0%, #F76B1C 100%)"},{type:"gradient",color:"linear-gradient(180deg, #FFEAD4 0%, #FC8484 100%)"},{type:"gradient",color:"linear-gradient(0deg, #242428 0%, #2D3544 100%)"},{type:"gradient",color:"linear-gradient(245deg, #1DE1D1 0%, #780BEE 100%)"},{type:"gradient",color:"linear-gradient(65deg, #1DE1D1 0%, #8987E2 100%)"}]};s.prototype={build(){!localStorage.getItem("liquidSavedColors")&&this.setColorsLocalStorage(o),this.applyInitPreview(),$(this.element).on("click",this.init.bind(this))},init(t){this.container=this.appendMarkup(),this.colorVal=[],this.currentPicker=$(t.currentTarget),this.colorVal=$(".ld-color-val",this.currentPicker),this.colorPreview=$(".ld-colorpicker-preview",this.currentPicker),this.solidView=this.container.find("#ld-cp-solid"),this.gradientView=this.container.find("#ld-cp-gradient"),this.savedColorsView=this.container.find("#ld-cp-savedcolors"),this.solidPicker=this.container.find("#picker-solid"),this.gradientPicker=this.container.find("#picker-gradient"),this.pickerValue=this.container.find(".picker-value"),this.savedColorsPickerValue=this.savedColorsView.find(".picker-value"),this.gradientSpContainer=this.container.find(".ld-sp-container"),this.gradientKnob=this.container.find("#gradient-knob"),this.knobDirArrows=this.container.find(".gradient-dir"),this.knobDirInput=this.container.find(".gradient-dir-input"),this.gradientTypeButtons=this.container.find(".ld-gradient-type-wrap"),this.gradientHandlerPosInput=this.container.find(".gradient-handler-pos-value"),this.gradientTypeInput=this.container.find("#gradient-type"),this.cpHead=this.container.find(".ld-cp-head"),this.tabButtons=this.container.find(".ld-cp-tab-btn"),this.savePresetButton=this.container.find(".ld-cp-save"),this.closeButton=this.container.find(".ld-cp-close"),this.clearButton=this.container.find(".btn-clear"),this.doneButton=this.container.find(".btn-done"),this.gp=null,this.currentPicker.addClass("is-active"),this.initPickerValue=this.colorVal.val(),this.initPickerValueType=this.colorVal.attr("data-type"),this.initPickerValueStyle=this.colorPreview.attr("style"),this.appendSavedColors(),this.initSolidSpectrum(),this.initGrapick(),this.initKnob(),this.knobDir(),this.pickerValuesChange(),this.tabs(),this.gradientTypeChange(),this.savePresets(),this.openActiveTab(),this.clear(),this.closePickerListeners(),this.done(),this.savedColorsView.on("click",".saved-color",this.onSavedColorClick.bind(this)),this.savedColorsView.on("click",".saved-color-remove",this.onRemoveColorClick.bind(this))},markup:()=>'<div class="ld-cp-view"><div class="ld-cp-wrap"><div class="ld-cp-inner"><div class="ld-cp-head"><span class="ld-cp-save"><svg width="13" height="14" xmlns="http://www.w3.org/2000/svg"> <path d="m8.625,4.925l0,-2.822l-7.072,0l0,2.822l7.072,0zm-2.125,7.072c0.374,0 0.72533,-0.09633 1.054,-0.289c0.32867,-0.19267 0.58933,-0.45333 0.782,-0.782c0.19267,-0.32867 0.289,-0.68 0.289,-1.054c0,-0.374 -0.09633,-0.72533 -0.289,-1.054c-0.19267,-0.32867 -0.45333,-0.58933 -0.782,-0.782c-0.32867,-0.19267 -0.68,-0.289 -1.054,-0.289c-0.374,0 -0.72533,0.09633 -1.054,0.289c-0.32867,0.19267 -0.58933,0.45333 -0.782,0.782c-0.19267,0.32867 -0.289,0.68 -0.289,1.054c0,0.374 0.09633,0.72533 0.289,1.054c0.19267,0.32867 0.45333,0.58933 0.782,0.782c0.32867,0.19267 0.68,0.289 1.054,0.289zm3.553,-11.322l2.822,2.822l0,8.5c0,0.38534 -0.14167,0.71967 -0.425,1.003c-0.28333,0.28333 -0.61766,0.425 -1.003,0.425l-9.894,0c-0.39667,0 -0.73383,-0.14167 -1.0115,-0.425c-0.27767,-0.28333 -0.4165,-0.61766 -0.4165,-1.003l0,-9.894c0,-0.38534 0.13883,-0.71967 0.4165,-1.003c0.27767,-0.28333 0.61483,-0.425 1.0115,-0.425l8.5,0z"/> </svg><span>Save Preset</span></span><span class="ld-cp-close"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 52 52" fill="rgba(255,255,255,0.75)"><path d="M35.707,16.293c-0.391-0.391-1.023-0.391-1.414,0L26,24.586l-8.293-8.293c-0.391-0.391-1.023-0.391-1.414,0 s-0.391,1.023,0,1.414L24.586,26l-8.293,8.293c-0.391,0.391-0.391,1.023,0,1.414C16.488,35.902,16.744,36,17,36 s0.512-0.098,0.707-0.293L26,27.414l8.293,8.293C34.488,35.902,34.744,36,35,36s0.512-0.098,0.707-0.293 c0.391-0.391,0.391-1.023,0-1.414L27.414,26l8.293-8.293C36.098,17.316,36.098,16.684,35.707,16.293z"/> </svg></span></div></div></div></div>',solidMarkup:()=>({link:'<a href="#ld-cp-solid" data-target="solid" class="ld-cp-tab-btn">Solid Color</a>',body:'<div class="ld-cp-body" id="ld-cp-solid"><div class="ld-cp-sec-left"><div class="ld-cp-preview"><div class="ld-cp-preview-inner"></div></div><input type="hidden" id="picker-solid" /><input type="hidden" class="picker-value" data-type="solid" /></div><div class="ld-cp-sec-right"><div class="ld-cp-inputs-container"><span class="ld-cp-input hex-color-input"><label>Color</label><input class="hex-color-value" type="text" spellcheck="false"/></span><span class="ld-cp-input rgba-color-input"><label>R</label><input class="red-color-value" type="number" min="0" max="255"/></span><span class="ld-cp-input rgba-color-input"><label>G</label><input class="green-color-value" type="number" min="0" max="255"/></span><span class="ld-cp-input rgba-color-input"><label>B</label><input class="blue-color-value" type="number" min="0" max="255"/></span><span class="ld-cp-input rgba-color-input"><label>A</label><input class="alpha-color-value" type="number" min="0" max="1" step="0.05"/></span></div><div class="ld-cp-inputs-container"><span class="ld-cp-btn btn-clear"><svg width="11" height="10" xmlns="http://www.w3.org/2000/svg"> <polygon points="10.447021484375,1.10601806640625 6.50299072265625,5.04998779296875 10.447021484375,8.9940185546875 9.4439697265625,9.99700927734375 5.5,6.052978515625 1.5560302734375,9.99700927734375 0.552978515625,8.9940185546875 4.49700927734375,5.04998779296875 0.552978515625,1.10601806640625 1.5560302734375,0.10302734375 5.5,4.0469970703125 9.4439697265625,0.10302734375 " /> </svg><span>Clear</span></span><span class="ld-cp-btn btn-done"><svg width="13" height="10" xmlns="http://www.w3.org/2000/svg"> <polygon points="4.375,8.00799560546875 11.87200927734375,0.493988037109375 12.875,1.49700927734375 4.375,9.99700927734375 0.4310302734375,6.053009033203125 1.4169921875,5.04998779296875 " /> </svg><span>Done</span></span></div></div></div>'}),gradientMarkup:()=>({link:'<a href="#ld-cp-gradient" data-target="gradient" class="ld-cp-tab-btn">Gradient Color</a>',body:'<div class="ld-cp-body" id="ld-cp-gradient"><div class="ld-cp-sec-left"><div class="ld-cp-preview"><div class="ld-cp-preview-inner"></div><div class="gradient-knob-container"><div class="gradient-arrow"><div class="gradient-arrow-inner"><svg width="11" height="13" xmlns="http://www.w3.org/2000/svg"> <polygon points="5.5,0.510009765625 10.19500732421875,11.94000244140625 9.7449951171875,12.375 5.5,10.5 1.2550048828125,12.375 0.82000732421875,11.94000244140625 " id="navigation---material"/> </svg></div> </div> <div class="gradient-dir"><span data-dir="295" class="tl"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"/></svg></span><span data-dir="0" class="t"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"/></svg></span><span data-dir="65" class="tr"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"/></svg></span><span data-dir="90" class="r"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path xmlns="http://www.w3.org/2000/svg" d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg></span><span data-dir="115" class="br"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path xmlns="http://www.w3.org/2000/svg" d="M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"/></svg></span><span data-dir="180" class="b"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path xmlns="http://www.w3.org/2000/svg" d="M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"/></svg></span><span data-dir="245" class="bl"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path xmlns="http://www.w3.org/2000/svg" d="M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"/></svg></span><span data-dir="270" class="l"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path xmlns="http://www.w3.org/2000/svg" d="M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"/></svg></span></div> <input type="text" value="90" id="gradient-knob"></div></div><div id="picker-gradient"></div><div class="ld-sp-container"></div><input type="hidden" class="picker-value" data-type="gradient" /></div><div class="ld-cp-sec-right"><div class="ld-cp-inputs-container ld-gradient-type-wrap"><span><p>Gradient Type</p><span class="ld-cp-btn is-active" data-type="linear">Linear</span><span class="ld-cp-btn" data-type="radial">Radial</span><input type="hidden" value="linear" id="gradient-type" /></span></div><div class="ld-cp-inputs-container"><span class="ld-cp-input gradient-dir-input"><label>Angle</label><input class="gradient-dir-value" type="number" min="0" max="360" value="90" /></span><span class="ld-cp-input gradient-handler-pos-input"><label>Position</label><input class="gradient-handler-pos-value" type="number" min="0" max="100" /></span><span class="ld-cp-btn btn-done"><svg width="13" height="10" xmlns="http://www.w3.org/2000/svg"> <polygon points="4.375,8.00799560546875 11.87200927734375,0.493988037109375 12.875,1.49700927734375 4.375,9.99700927734375 0.4310302734375,6.053009033203125 1.4169921875,5.04998779296875 " /> </svg><span>Done</span></span></div><div class="ld-cp-inputs-container"><span class="ld-cp-input hex-color-input"><label>Color</label><input class="hex-color-value" type="text" spellcheck="false"/></span><span class="ld-cp-input rgba-color-input"><label>R</label><input class="red-color-value" type="number" min="0" max="255"/></span><span class="ld-cp-input rgba-color-input"><label>G</label><input class="green-color-value" type="number" min="0" max="255"/></span><span class="ld-cp-input rgba-color-input"><label>B</label><input class="blue-color-value" type="number" min="0" max="255"/></span><span class="ld-cp-input rgba-color-input"><label>A</label><input class="alpha-color-value" type="number" min="0" max="1" step="0.05"/></span></div><div class="ld-cp-inputs-container"><span class="ld-cp-btn btn-clear"><svg width="11" height="10" xmlns="http://www.w3.org/2000/svg"> <polygon points="10.447021484375,1.10601806640625 6.50299072265625,5.04998779296875 10.447021484375,8.9940185546875 9.4439697265625,9.99700927734375 5.5,6.052978515625 1.5560302734375,9.99700927734375 0.552978515625,8.9940185546875 4.49700927734375,5.04998779296875 0.552978515625,1.10601806640625 1.5560302734375,0.10302734375 5.5,4.0469970703125 9.4439697265625,0.10302734375 " /> </svg><span>Clear</span></span></div></div></div>'}),savedColorsMarkup:()=>({link:'<a href="#ld-cp-savedcolors" data-target="savedcolors" class="ld-cp-tab-btn">Saved Colors</a>',body:'<div class="ld-cp-body" id="ld-cp-savedcolors"><div class="ld-cp-sec-left"><div class="ld-cp-inputs-container"><p>Saved Colors</p></div><div class="ld-cp-inputs-container"><span class="ld-cp-status">Color Applied</span><div class="saved-colors-wrap"></div></div><div class="ld-cp-inputs-container"><span class="ld-cp-btn btn-done"><svg width="13" height="10" xmlns="http://www.w3.org/2000/svg"> <polygon points="4.375,8.00799560546875 11.87200927734375,0.493988037109375 12.875,1.49700927734375 4.375,9.99700927734375 0.4310302734375,6.053009033203125 1.4169921875,5.04998779296875 " /> </svg><span>Done</span></span></div></div><input type="hidden" class="picker-value" /></div>'}),appendMarkup(){const t=$(this.markup()),e=t.find(".ld-cp-inner"),i=t.find(".ld-cp-head"),s=this.savedColorsMarkup(),n=$(s.body).appendTo(e),a=$(s.link).appendTo(i);for(let t=0;t<=this.cpType.length-1;t++){const e=this[this.cpType[t]+"Markup"]();$(e.body).insertBefore(n),$(e.link).insertBefore(a),this.cpType.length<=1&&n.find(".saved-color").not("[data-type="+this.cpType[t]+"]").remove()}return i.find(".ld-cp-tab-btn").eq(0).addClass("is-active"),t.find(".ld-cp-body").eq(0).addClass("is-active"),t.removeClass("ld-cp-solid ld-cp-gradient ld-cp-savedcolors").addClass("ld-cp-"+this.cpType[0]),$(".ld-cp-view").length||t.appendTo("body"),t},setColorsLocalStorage(t){localStorage.setItem("liquidSavedColors",JSON.stringify(t))},getColorsLocalStorage:()=>JSON.parse(localStorage.getItem("liquidSavedColors")),appendSavedColors(){const t=this.savedColorsView.find(".saved-colors-wrap"),e=this.getColorsLocalStorage()||o;$.map(e.colors,(e=>{if($.inArray(e.type,this.cpType)<0)return;const i=$(`<span class="saved-color" data-type="${e.type}" data-color="${e.color}" />`);i.css({background:i.data("color")}),i.append('<span class="saved-color-remove">x</span>'),t.append(i)}))},applyInitPreview(){const t=$(this.element).find(".ld-colorpicker-preview"),e=undefined,i=$(this.element).find(".ld-color-val").val();t.css("background",i)},pickerValuesChange(){const t=this;$.each(this.pickerValue,((e,i)=>{$(i).on("change",t.onPickerValuesChange.bind(t,i))}))},onPickerValuesChange(t){if(this.colorPreview.removeAttr("style"),"solid"==$(t).attr("data-type"))this.colorPreview.css("background",$(t).val());else if("gradient"==$(t).attr("data-type")){const t=this.gp.getPrefixedValues(),e="background: "+t[0]+";background: "+t[1]+";background: "+t[2]+";background: "+this.gp.getValue()+";";this.colorPreview.attr("style",e)}},initSolidSpectrum(){if($.inArray("solid",this.cpType)<0)return;let t={...this.options};""!=this.colorVal.val()&&(t={...this.options,color:this.colorVal.val()});const e=this.solidPicker.spectrum(t);e.on("move.spectrum",this.onSolidColorChange.bind(this)),this.onSolidColorChange(this.solidPicker,e.spectrum("get")),this.onSolidColorInputsChange(this.solidPicker)},initGrapick(){const t=this;$.inArray("gradient",this.cpType)<0||(this.gp=new Grapick({el:this.gradientPicker.get(0),height:"22px",direction:"90deg",colorEl:'<input class="gradientpicker"/>'}),this.gp.setColorPicker((e=>{const i=e.getEl().querySelector(".gradientpicker"),s=$.extend({},this.options,{color:e.getColor()});$(i).spectrum(s),$(i).on("change.spectrum",((t,i)=>{e.setColor(i.toRgbString())})),$(i).on("move.spectrum",((i,s)=>{e.setColor(s.toRgbString(),0),t.updateColorInputs.call(t,this.gradientView,s)}))})),this.gp.on("change",(()=>{const t=$(this.gp.el).siblings(".picker-value"),e=$(this.gp.el).siblings(".ld-cp-preview").find(".ld-cp-preview-inner"),i=this.gp.getPrefixedValues(),s="background: "+i[0]+";background: "+i[1]+";background: "+i[2]+";background: "+this.gp.getValue()+";";t.val(this.gp.getValue()),t.triggerHandler("change"),e.attr("style",s)})),this.gp.on("handler:add",(e=>{t.onHandlerAdd.call(t,e)})),this.gp.on("handler:select",(e=>{t.onHandlerSelect.call(t,e)})),this.gp.on("handler:position:change",(e=>{t.updateHandlerPosInputs.call(t,e)})),this.gp.on("handler:drag:start",(e=>{t.onHandlerDragStart.call(t,e)})),this.gp.on("handler:drag:end",(e=>{t.onHandlerDragEnd.call(t,e)})),this.gp.on("handler:color:change",(e=>{t.onHandlerColorChange.call(t,e)})),this.gp.on("handler:remove",(e=>{t.onHandlerRemove.call(t,e)})),this.gradientHandlerPosInput.on("change",(e=>{this.onPosInputChange.call(t,e)})),this.gp.addHandler(0,"#0bccee"),this.gp.addHandler(100,"#ac1de1"))},updateColorInputs(t,e){const i=t.find(".hex-color-value"),s=t.find(".red-color-value"),n=t.find(".green-color-value"),a=t.find(".blue-color-value"),o=t.find(".alpha-color-value");if(null==e)return i.val(""),s.val(""),n.val(""),a.val(""),o.val(""),!1;i.val(e.toHexString()),s.val(e.toRgb().r),n.val(e.toRgb().g),a.val(e.toRgb().b),o.val(parseFloat(e.getAlpha().toFixed(2)))},onSolidColorChange(t,e){const i=t.target?$(t.target):t,s=i.closest(".ld-cp-body").find(".picker-value"),n=i.closest(".ld-cp-body").find(".ld-cp-preview-inner");if(null==e)return s.val(""),this.colorVal.val(""),s.triggerHandler("change"),n.css("background-color",""),this.updateColorInputs(this.solidView,e),!1;e.isValid()&&(s.val(e.toRgbString()),s.triggerHandler("change"),n.css("background-color",e.toRgbString())),this.updateColorInputs(this.solidView,e)},onSolidColorInputsChange(t){const e=this,i=this.solidView.find(".hex-color-value"),s=this.solidView.find(".rgba-color-input input");i.on("change",(t=>{e.onSolidHexChange.call(e,t)})),s.on("change",(t=>{e.onSolidRgbaChange.call(e,t,s)}))},onSolidHexChange(t,e){const i=this,s=t.target,n=t.target.value;if($(s).removeClass("had-error"),!tinycolor(n).isValid())return $(s).addClass("had-error"),setTimeout((()=>{$(s).removeClass("had-error")}),500),!1;this.solidPicker.spectrum("set",n),i.onSolidColorChange.call(i,t,this.solidPicker.spectrum("get"))},onSolidRgbaChange(t,e){const i=this,s=[];$.each(e,((t,e)=>{s.push($(e).val())}));const n=s.join(",");this.solidPicker.spectrum("set","rgba("+n+")"),i.onSolidColorChange.call(i,t,this.solidPicker.spectrum("get"))},onGradientColorInputsChange(){const t=this,e=this.gradientView.find(".hex-color-value"),i=this.gradientView.find(".rgba-color-input input");e.on("change",(e=>{t.onGradientHexChange.call(t,e)})),i.on("change",(e=>{t.onGradientRgbaChange.call(t,i)}))},onGradientHexChange(t){const e=this,i=t.target,s=t.target.value,n=e.gp.getSelected(),a=n.getEl().querySelector(".gradientpicker");if($(i).removeClass("had-error"),!tinycolor(s).isValid())return $(i).addClass("had-error"),setTimeout((()=>{$(i).removeClass("had-error")}),500),!1;$(a).spectrum("set",s),e.onGradientColorChange.call(e,n,$(a).spectrum("get")),this.updateColorInputs(this.gradientView,$(a).spectrum("get"))},onGradientRgbaChange(t){const e=this,i=[],s=this.gp.getSelected(),n=s.getEl().querySelector(".gradientpicker");$.each(t,((t,e)=>{i.push($(e).val())}));const a=i.join(",");$(n).spectrum("set","rgba("+a+")"),e.onGradientColorChange.call(e,s,$(n).spectrum("get")),this.updateColorInputs(this.gradientView,$(n).spectrum("get"))},onGradientColorChange(t,e){t.setColor(e)},toggleHandlerCloseButton(t){this.gp.getHandlers().length<=2?$.each(this.gp.getHandlers(),((t,e)=>{const i=undefined;$(e.getEl()).find(".grp-handler-close-c").hide()})):$.each(this.gp.getHandlers(),((t,e)=>{const i=undefined;$(e.getEl()).find(".grp-handler-close-c").show()}))},onHandlerAdd(t){const e=$(t.getEl()),i=e.index();e.find(".sp-container").appendTo(this.gradientSpContainer);const s=undefined;this.gradientSpContainer.find(".sp-container").eq(i).removeClass("sp-hidden").siblings().addClass("sp-hidden"),e.find(".gradientpicker").spectrum("show"),e.find(".grp-handler-drag").css("background-color",t.color),this.toggleHandlerCloseButton(this.gp),this.updateHandlerPosInputs(t)},onHandlerSelect(t){const e=$(t.getEl()),i=e.index(),s=Math.round(t.getPosition()),n=undefined;this.gradientSpContainer.find(".sp-container").eq(i).removeClass("sp-hidden").siblings().addClass("sp-hidden"),e.find(".gradientpicker").spectrum("show"),this.gradientHandlerPosInput.val(s),this.updateColorInputs(this.gradientView,tinycolor(t.getColor())),this.onGradientColorInputsChange()},onHandlerDragStart(t){$(t.getEl()).addClass("is-dragging")},onHandlerDragEnd(t){$(t.getEl()).removeClass("is-dragging")},onHandlerColorChange(t){const e=undefined;$(t.getEl()).find(".grp-handler-drag").css("background-color",t.color)},onHandlerRemove(t){const e=undefined;if($(t.getEl()).find(".gradientpicker").spectrum("destroy"),this.gp.getHandlers().length<=1)return!1;$(this.gp.getHandlers()).last()[0].select(),this.toggleHandlerCloseButton(this.gp)},updateHandlerPosInputs(t){
const e=undefined,i=$(t.getEl()).find(".grp-handler-pos-indicator span"),s=Math.round(t.getPosition());i.text(s),this.gradientHandlerPosInput.val(s)},onPosInputChange(t){const e=this.gp.getSelected(),i=e.getPosition(),s=event.target.value;s>=0&&s<=100?e.setPosition(s):s<0?e.setPosition(0):s>100&&e.setPosition(100)},initKnob(){const t=this;this.gradientKnob.knob({min:0,max:360,step:5,width:136,height:136,thickness:.5,displayInput:!1,lineCap:"round",cursor:!0,change:e=>{t.onGradientKnobChange.call(t,e)}})},onGradientKnobChange(t){const e=this.gp.getType(),i=this.gradientKnob.parent().siblings(".gradient-arrow"),s=Math.round(t);i.css({"-webkit-transform":"rotate("+t+"deg)",transform:"rotate("+t+"deg)"}),this.knobDirInput.find("input").val(s),"radial"==e?this.gp.setDirection(`circle at ${s}%`):"linear"==e&&this.gp.setDirection(s+"deg")},knobDir(){this.knobDirArrows.on("click","span",(t=>{t.stopPropagation();const e=$(t.currentTarget).data("dir");this.gradientKnob.val(e).trigger("change"),this.onGradientKnobChange(e)})),this.knobDirInput.find("input").on("change",(t=>{const e=t.target.value;this.gradientKnob.val(e).trigger("change"),this.onGradientKnobChange(e)}))},gradientTypeChange(){this.gradientTypeButtons.find(".ld-cp-btn").on("click",(t=>{this.onGradientTypeChange(t)}))},onGradientTypeChange(t){const e=$(t.target).attr("data-type")||t,i=this.knobDirInput.find(".gradient-dir-value");this.gp.setType(e),this.gradientTypeInput.val(e),this.gradientTypeInput.triggerHandler("change"),this.gradientTypeButtons.find("[data-type="+e+"]").addClass("is-active").siblings().removeClass("is-active"),"radial"==e?(i.val(50),this.gradientView.addClass("gradient-type-radial"),this.gp.setDirection(`circle at ${i.val()}%`)):(this.gradientView.removeClass("gradient-type-radial"),this.gp.setDirection(i.val()+"deg"))},onSavedColorClick(t){t.stopPropagation();const e=$(t.target).attr("data-color"),i=undefined;"gradient"==$(t.target).attr("data-type")?this.gradientSavedColor(t,e):this.solidSavedColor(t,e)},onRemoveColorClick(t){t.preventDefault(),t.stopPropagation();const e=$(t.target).parent().index(),i=undefined,s={colors:[...this.getColorsLocalStorage().colors.filter(((t,i)=>i!==e))]};this.setColorsLocalStorage(s),$(t.target).parent().remove()},gradientSavedColor(t,e){this.gp.setValue(e),this.gp.getHandler(0).select();const i=parseInt(this.gp.getDirection(),10);this.onGradientTypeChange(this.gp.getType()),"linear"==this.gp.getType()&&this.onGradientKnobChange(i),this.colorVal.add(this.savedColorsPickerValue).attr("data-type","gradient"),this.colorVal.add(this.savedColorsPickerValue).val(this.gp.getSafeValue())},solidSavedColor(t,e){this.solidPicker.spectrum("set",e),this.onSolidColorChange(this.solidPicker,tinycolor(e)),this.colorVal.add(this.savedColorsPickerValue).attr("data-type","solid"),this.colorVal.add(this.savedColorsPickerValue).val(this.solidPicker.spectrum("get"))},savePresets(){this.savePresetButton.on("click",this.onSavePreset.bind(this))},onSavePreset(){const t=this.container.find(".ld-cp-body.is-active");if(t.is("#ld-cp-savedcolors"))return!1;const e=undefined,i=t.find(".picker-value").val();let s=t.is("#ld-cp-solid")?"solid":"gradient";this.savePreset(i,s)},savePreset(t,e){const i={type:e,color:t},s={colors:this.getColorsLocalStorage().colors};s.colors.push(i),this.setColorsLocalStorage(s);const n=this.savedColorsView.find(".saved-colors-wrap"),a=$(`<span class="saved-color" data-type="${e}" data-color="${t}" />`);a.css({background:t}),a.append('<span class="saved-color-remove">x</span>'),n.append(a)},tabs(){const t=this;$.each(this.tabButtons,((e,i)=>{$(i).on("click",(e=>{t.onTabsChange.call(t,e)}))}))},onTabsChange(t){t.stopPropagation(),t.preventDefault();const e=$(t.target),i=e.attr("href").replace("#","");$("#"+i).addClass("is-active").siblings().removeClass("is-active"),e.addClass("is-active").siblings().removeClass("is-active"),this.container.removeClass("ld-cp-solid ld-cp-gradient ld-cp-savedcolors").addClass(i),"ld-cp-gradient"==i?this.onGradientTabOpen():this.onSolidTabOpen()},onGradientTabOpen(){const t=this.gp.getHandler(0).getEl();$(t).find(".gradientpicker").spectrum("show")},onSolidTabOpen(){this.solidView.find("#picker-solid").spectrum("show")},openActiveTab(){const t=this.cpType.length>=2,e=""!=this.colorVal.val()||t?this.colorVal.val():this.cpType[this.cpType.length-1],i=e.search("gradient")>=0||"gradient"==e?"gradient":"solid",s="ld-cp-"+i;if(this.container.removeClass("ld-cp-solid ld-cp-gradient ld-cp-savedcolors").addClass(s),this.container.find(".ld-cp-body#"+s).addClass("is-active").siblings().removeClass("is-active"),this.cpHead.find(".ld-cp-tab-btn[data-target="+i+"]").addClass("is-active").siblings().removeClass("is-active"),"solid"==i)this.solidView.find(".hex-color-value").focus(),setTimeout((t=>{this.solidView.find(".hex-color-value").select()}),50),""!==e?(this.solidPicker.spectrum("set",e),this.onSolidColorChange(this.solidPicker,tinycolor(e))):(this.solidPicker.spectrum("set",this.options.color),this.onSolidColorChange(this.solidPicker,tinycolor(this.options.color)));else if("gradient"==i){if(this.gradientView.find(".hex-color-value").focus(),setTimeout((t=>{this.gradientView.find(".hex-color-value").select()}),50),this.gp.setValue(this.colorVal.val()),"linear"==this.gp.getType()){const t=parseInt(this.gp.getDirection(),10),e=parseInt(this.gp.getDirection(),10)<0?180:t;this.onGradientKnobChange(e)}this.gp.getHandlers().length<=0&&(this.gp.addHandler(0,"#0bccee"),this.gp.addHandler(100,"#ac1de1")),this.onGradientTypeChange(this.gp.getType()),this.gp.getHandler(0).select()}},clear(){this.clearButton.on("click",(t=>{this.onClearClick.call(this,t)}))},onClearClick(t){const e=$(t.currentTarget),i=e.closest(".ld-cp-body");i.is("#ld-cp-solid")?this.clearSolid(e,i):this.clearGradient(e,i)},clearSolid(t,e){e.find("#picker-solid").spectrum("set",null),this.onSolidColorChange(this.solidPicker,null)},clearGradient(t,e){this.gp.clear(),this.colorVal.val("")},done(){this.doneButton.on("click",(t=>{this.onDoneClick.call(this,t)}))},onDoneClick(t){const e=undefined,i=$(t.currentTarget).closest(".ld-cp-body").find(".picker-value"),s=i.val(),n=i.attr("data-type");""!==i.val()&&(this.colorVal.attr("data-type",n),this.colorVal.val(s),this.onPickerValuesChange(i)),this.container.find("#picker-solid").spectrum("destroy"),this.container.find(".gradientpicker").spectrum("destroy"),this.container.remove(),this.currentPicker.removeClass("is-active")},closePickerListeners(){this.closeButton.on("click",(t=>this.closePicker.call(this,t))),this.container.on("mousedown",(t=>this.closePicker.call(this,t)))},closePicker(t){($(t.target).is(this.container)||$(t.currentTarget).is(this.closeButton))&&(this.colorVal.val(this.initPickerValue),this.colorVal.attr("data-type",this.initPickerValueType),this.colorPreview.attr("style",this.initPickerValueStyle||""),this.container.find("#picker-solid").spectrum("destroy"),this.container.find(".gradientpicker").spectrum("destroy"),this.container.remove(),this.currentPicker.removeClass("is-active"))}},$.fn[n]=function(t){return this.each((function(){const e=$(this).data("cp-options");let i=null;e&&(i=$.extend(!0,{},t,e)),$.data(this,"plugin_"+n)||$.data(this,"plugin_"+n,new s(this,i))}))}}(jQuery,window,document),jQuery(document).ready((function($){$("[data-colorpicker=true]").liquidColorPicker()}));